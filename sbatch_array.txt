#!/bin/bash

# Example of running R script with a job array

#SBATCH --job-name=test
#SBATCH --partition=test
#SBATCH --array=1-4                    # how many tasks in the array
#SBATCH -c 1                            # one CPU core per task
#SBATCH -t 10:00
#SBATCH -o test-%j-%a.out
#SBATCH --mail-type=ALL
#SBATCH --mail-user=maire.kirkland@bto.org

# Load software
module add jasr

A=$((SLURM_ARRAY_TASK_ID/2))
B=$((SLURM_ARRAY_TASK_ID%2))

# Run R script with a command line argument
Rscript test.R imputed_dataset$A B